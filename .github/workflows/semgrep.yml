name: Semgrep Security Scan

on:
  pull_request:
    branches: [main, master]
  push:
    branches: [main, master]

concurrency:
  group: semgrep-${{ github.ref }}
  cancel-in-progress: true

jobs:
  semgrep:
    uses: apcode-1/test-semgrep/.github/workflows/central-semgrep.yml@main
    with:
      block_on_high: false  # Monitor mode
    permissions:
      contents: read
      security-events: write
      pull-requests: write
